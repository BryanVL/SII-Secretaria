CREATE TABLE ALUMNO (ID BIGINT NOT NULL, APELLIDO1 VARCHAR(20) NOT NULL, APELLIDO2 VARCHAR(20), CP DOUBLE, DNI VARCHAR(10) NOT NULL UNIQUE, DIRECCION VARCHAR(50), EMAIL_INSTITUCIONAL VARCHAR(40) NOT NULL, EMAIL_PERSONAL VARCHAR(40), LOCALIDAD VARCHAR(40), MOVIL DOUBLE, NOMBRE VARCHAR(15) NOT NULL, PROVINCIA VARCHAR(25), TELEFONO DOUBLE, USUARIO VARCHAR(40), PRIMARY KEY (ID))
CREATE TABLE GRUPO (ID BIGINT NOT NULL, ASIGNAR TINYINT(1) default 0, INGLES VARCHAR(2) NOT NULL, PLAZAS DOUBLE, TURNO_MAÃ‘ANA_TARDE VARCHAR(6) NOT NULL, VISIBLE TINYINT(1) default 0, CURSO DOUBLE, LETRA VARCHAR(1), ID1_ID BIGINT, TITULACION_CODIGO DOUBLE, PRIMARY KEY (ID))
CREATE TABLE ASIGNATURA (REFERENCIA DOUBLE NOT NULL, CARACTER VARCHAR(10), CODIGO DOUBLE NOT NULL, CREDITOS_TEORIA DOUBLE, CREDITOS_TOTAL DOUBLE NOT NULL, CURSO DOUBLE, DURACION DOUBLE, NOMBRE VARCHAR(30) NOT NULL, OFERTADA VARCHAR(2) NOT NULL, UNIDAD_TEMPORAL VARCHAR(10), TITULACION_CODIGO DOUBLE, PRIMARY KEY (REFERENCIA))
CREATE TABLE ASIGNATURAS_MATRICULA (ASIGNATURA_REFERENCIA DOUBLE NOT NULL, GRUPO_ID BIGINT, MATRICULA_CURSO_ACADEMICO VARCHAR(10), PRIMARY KEY (ASIGNATURA_REFERENCIA))
CREATE TABLE CENTRO (ID INTEGER NOT NULL, DIRECCION VARCHAR(300) NOT NULL, NOMBRE VARCHAR(80) NOT NULL UNIQUE, TLF_CONSERJERIA DOUBLE, PRIMARY KEY (ID))
CREATE TABLE ENCUESTA (FECHA_ENVIO TIME NOT NULL, EXPEDIENTE_NUM_EXPEDIENTE DOUBLE, PRIMARY KEY (FECHA_ENVIO))
CREATE TABLE EXPEDIENTE (NUM_EXPEDIENTE DOUBLE NOT NULL, ACTIVO TINYINT(1) default 0, CREDITOS_SUPERADOS DOUBLE, NOTA_MEDIA_PROVISIONAL DOUBLE, ALUMNO_ID BIGINT, TITULACION_CODIGO DOUBLE, PRIMARY KEY (NUM_EXPEDIENTE))
CREATE TABLE GRUPOS_POR_ASIGNATURA (CURSO_ACADEMICO VARCHAR(9) NOT NULL, OFERTA VARCHAR(10), ASIGNATURA_REFERENCIA DOUBLE, GRUPO_ID BIGINT, PRIMARY KEY (CURSO_ACADEMICO))
CREATE TABLE IDIOMAS (NOMBRE VARCHAR(20) NOT NULL, ASIGNATURA_REFERENCIA DOUBLE, PRIMARY KEY (NOMBRE))
CREATE TABLE MATRICULA (CURSO_ACADEMICO VARCHAR(10) NOT NULL, ESTADO VARCHAR(10) NOT NULL, FECHA_DE_MATRICULA DATE NOT NULL, NUEVO_INGRESO VARCHAR(2), NUM_ARCHIVO DOUBLE, TURNO_PREFERENTE VARCHAR(6), EXPEDIENTE_NUM_EXPEDIENTE DOUBLE, PRIMARY KEY (CURSO_ACADEMICO))
CREATE TABLE OPTATIVA (PLAZAS DOUBLE NOT NULL, MENCION VARCHAR(30), PRIMARY KEY (PLAZAS))
CREATE TABLE TITULACION (CODIGO DOUBLE NOT NULL, CREDITOS DOUBLE NOT NULL, NOMBRE VARCHAR(20) NOT NULL, PRIMARY KEY (CODIGO))
CREATE TABLE CLASE (ID BIGINT NOT NULL, HORA_FIN TIME, ASIGNATURA_REFERENCIA DOUBLE, GRUPO_ID BIGINT NOT NULL, PRIMARY KEY (ID, GRUPO_ID))
CREATE TABLE CENTRO_TITULACION (Centro_ID INTEGER NOT NULL, titulaciones_CODIGO DOUBLE NOT NULL, PRIMARY KEY (Centro_ID, titulaciones_CODIGO))
CREATE TABLE GRUPOS_POR_ASIGNATURA_ENCUESTA (encuestas_FECHA_ENVIO TIME NOT NULL, GrAsig_CURSO_ACADEMICO VARCHAR(9) NOT NULL, PRIMARY KEY (encuestas_FECHA_ENVIO, GrAsig_CURSO_ACADEMICO))
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_ID1_ID FOREIGN KEY (ID1_ID) REFERENCES GRUPO (ID)
ALTER TABLE ASIGNATURA ADD CONSTRAINT FK_ASIGNATURA_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE ASIGNATURAS_MATRICULA ADD CONSTRAINT FK_ASIGNATURAS_MATRICULA_MATRICULA_CURSO_ACADEMICO FOREIGN KEY (MATRICULA_CURSO_ACADEMICO) REFERENCES MATRICULA (CURSO_ACADEMICO)
ALTER TABLE ASIGNATURAS_MATRICULA ADD CONSTRAINT FK_ASIGNATURAS_MATRICULA_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE ASIGNATURAS_MATRICULA ADD CONSTRAINT FK_ASIGNATURAS_MATRICULA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE ENCUESTA ADD CONSTRAINT FK_ENCUESTA_EXPEDIENTE_NUM_EXPEDIENTE FOREIGN KEY (EXPEDIENTE_NUM_EXPEDIENTE) REFERENCES EXPEDIENTE (NUM_EXPEDIENTE)
ALTER TABLE EXPEDIENTE ADD CONSTRAINT FK_EXPEDIENTE_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE EXPEDIENTE ADD CONSTRAINT FK_EXPEDIENTE_ALUMNO_ID FOREIGN KEY (ALUMNO_ID) REFERENCES ALUMNO (ID)
ALTER TABLE GRUPOS_POR_ASIGNATURA ADD CONSTRAINT FK_GRUPOS_POR_ASIGNATURA_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE GRUPOS_POR_ASIGNATURA ADD CONSTRAINT FK_GRUPOS_POR_ASIGNATURA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE IDIOMAS ADD CONSTRAINT FK_IDIOMAS_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE MATRICULA ADD CONSTRAINT FK_MATRICULA_EXPEDIENTE_NUM_EXPEDIENTE FOREIGN KEY (EXPEDIENTE_NUM_EXPEDIENTE) REFERENCES EXPEDIENTE (NUM_EXPEDIENTE)
ALTER TABLE CLASE ADD CONSTRAINT FK_CLASE_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE CLASE ADD CONSTRAINT FK_CLASE_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE CENTRO_TITULACION ADD CONSTRAINT FK_CENTRO_TITULACION_titulaciones_CODIGO FOREIGN KEY (titulaciones_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE CENTRO_TITULACION ADD CONSTRAINT FK_CENTRO_TITULACION_Centro_ID FOREIGN KEY (Centro_ID) REFERENCES CENTRO (ID)
ALTER TABLE GRUPOS_POR_ASIGNATURA_ENCUESTA ADD CONSTRAINT GRUPOSPOR_ASIGNATURA_ENCUESTAencuestas_FECHA_ENVIO FOREIGN KEY (encuestas_FECHA_ENVIO) REFERENCES ENCUESTA (FECHA_ENVIO)
ALTER TABLE GRUPOS_POR_ASIGNATURA_ENCUESTA ADD CONSTRAINT GRUPOSPORASIGNATURA_ENCUESTAGrAsig_CURSO_ACADEMICO FOREIGN KEY (GrAsig_CURSO_ACADEMICO) REFERENCES GRUPOS_POR_ASIGNATURA (CURSO_ACADEMICO)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
